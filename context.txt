=================================./types/index.ts==============================================

export interface OperationTimePlan {
  [day: string]: { open: string; close: string; closed?: boolean };
}

export type UserRole = "USER" | "ADMIN" | "SUPER_ADMIN";

export interface Location {
  latitude: number;
  longitude: number;
}

export interface AppUser {
  userId: string;
  organizationId: string;
  username: string;
  email: string;
  phone?: string;
  password?: string;
  role: UserRole;
  isActive: boolean;
  createdAt?: string;
}

export interface POI {
  poi_id: string; 
  organization_id?: string;
  created_by_user_id?: string;
  poi_name: string;
  poi_description?: string;
  poi_category: string; 
  poi_type?: string;
  
  // Supporte les deux formats pour la transition
  latitude?: number;
  longitude?: number;
  
  location: {
    latitude: number;
    longitude: number;
  };

  address_city: string;
  address_informal?: string;
  address_country?: string;
  address_state_province?: string;

  poi_images_urls: string[]; 
  poi_amenities?: string[];
  poi_keywords?: string[];
  
  rating: number; 
  review_count: number;
  popularity_score: number;
  is_active?: boolean;

  poi_contacts?: {
    phone?: string;
    website?: string;
    email?: string;
  };
}

export interface CreatePoiDTO {
  poi_name: string;
  organization_id: string;
  created_by_user_id: string;
  poi_type: string;
  poi_category: string;
  poi_description?: string;
  latitude: number;
  longitude: number;
  address_city?: string;
  address_country: string;
  address_state_province?: string;
  is_active: boolean;
  poi_amenities?: string[];
  poi_keywords?: string[];
}

export interface RouteStats {
  distance: number; 
  duration: number;
  geometry: any;
}

export type TransportMode = "driving" | "walking" | "cycling"; 

export interface Trip {
  id: string;
  departName: string;
  arriveName: string;
  date: string; 
  distance: number;
  duration: number;
}

export type MapStyle = "streets-v2" | "hybrid";

export type PoiCategory = 
  | "FOOD_DRINK" 
  | "ACCOMMODATION" 
  | "SHOPPING_RETAIL" 
  | "TRANSPORTATION" 
  | "HEALTH_WELLNESS" 
  | "LEISURE_CULTURE" 
  | "PUBLIC_ADMIN_SERVICES" 
  | "FINANCE" 
  | "EDUCATION" 
  | "WORSHIP_SPIRITUALITY";
  

=================================./services/adminService.ts============================================== 

// Admin Service - Centralized API calls for POI Navigoo Admin Dashboard

const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'https://poi-navigoo.pynfi.com';

// Types
export interface AppUser {
  userId: string;
  organizationId: string;
  username: string;
  email: string;
  phone?: string;
  role: 'USER' | 'ADMIN' | 'SUPER_ADMIN';
  isActive: boolean;
  createdAt: string;
}

export interface PointOfInterest {
  poi_id: string;
  organization_id: string;
  town_id?: string;
  created_by_user_id: string;
  poi_name: string;
  poi_type: string;
  poi_category: string;
  poi_description?: string;
  latitude: number;
  longitude: number;
  address_city?: string;
  address_country?: string;
  popularity_score?: number;
  is_active: boolean;
  created_at: string;
  updated_at?: string;
}

export interface PoiReview {
  reviewId: string;
  poiId: string;
  userId: string;
  organizationId: string;
  platformType: string;
  rating: number;
  reviewText?: string;
  createdAt: string;
  likes: number;
  dislikes: number;
}

export interface PoiPlatformStat {
  statId: string;
  orgId: string;
  poiId: string;
  platformType: string;
  statDate: string;
  views: number;
  reviews: number;
  likes: number;
  dislikes: number;
}

export interface PoiAccessLog {
  accessId: string;
  poiId: string;
  organizationId: string;
  platformType: string;
  userId?: string;
  accessType: string;
  accessDatetime: string;
  metadata?: Record<string, any>;
}

export interface Organization {
  organizationId: string;
  organizationName: string;
  orgCode: string;
  orgType: 'MERCHANT' | 'DISTRIBUTOR' | 'SUPPLIER' | 'INTERNAL';
  createdAt: string;
  isActive: boolean;
}

export interface Blog {
  blog_id: string;
  user_id: string;
  poi_id: string;
  title: string;
  description?: string;
  cover_image_url?: string;
  content: string;
  is_active: boolean;
  created_at: string;
  updated_at?: string;
}

export interface Podcast {
  podcast_id: string;
  user_id: string;
  poi_id: string;
  title: string;
  description?: string;
  cover_image_url?: string;
  audio_file_url: string;
  duration_seconds: number;
  is_active: boolean;
  created_at: string;
  updated_at?: string;
}

// Helper function for API calls
async function apiCall<T>(endpoint: string, options?: RequestInit): Promise<T> {
  const response = await fetch(`${API_BASE_URL}${endpoint}`, {
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options?.headers,
    },
  });

  if (!response.ok) {
    throw new Error(`API Error: ${response.status} ${response.statusText}`);
  }

  return response.json();
}

// ==================== USER API ====================
export const UserAPI = {
  getAll: () => apiCall<AppUser[]>('/api/users'),
  getById: (id: string) => apiCall<AppUser>(`/api/users/${id}`),
  getByUsername: (username: string) => apiCall<AppUser>(`/api/users/username/${username}`),
  getByEmail: (email: string) => apiCall<AppUser>(`/api/users/email/${email}`),
  getByRole: (role: string) => apiCall<AppUser[]>(`/api/users/role/${role}`),
  getActiveByOrg: (orgId: string) => apiCall<AppUser[]>(`/api/users/organization/${orgId}/active`),
  countActiveByOrg: (orgId: string) => apiCall<number>(`/api/users/organization/${orgId}/count`),
  exists: (id: string) => apiCall<boolean>(`/api/users/${id}/exists`),
  usernameExists: (username: string) => apiCall<boolean>(`/api/users/check-username/${username}`),
  emailExists: (email: string) => apiCall<boolean>(`/api/users/check-email/${email}`),
  create: (user: Partial<AppUser>) => apiCall<AppUser>('/api/users', { method: 'POST', body: JSON.stringify(user) }),
  update: (id: string, user: Partial<AppUser>) => apiCall<AppUser>(`/api/users/${id}`, { method: 'PUT', body: JSON.stringify(user) }),
  delete: (id: string) => apiCall<void>(`/api/users/${id}`, { method: 'DELETE' }),
};

// ==================== POI API ====================
export const PoiAPI = {
  getAll: () => apiCall<PointOfInterest[]>('/api/pois'),
  getById: (id: string) => apiCall<PointOfInterest>(`/api/pois/${id}`),
  getByUser: (userId: string) => apiCall<PointOfInterest[]>(`/api/pois/user/${userId}`),
  getByType: (type: string) => apiCall<PointOfInterest[]>(`/api/pois/type/${type}`),
  getByCategory: (category: string) => apiCall<PointOfInterest[]>(`/api/pois/category/${category}`),
  getByCity: (city: string) => apiCall<PointOfInterest[]>(`/api/pois/city/${city}`),
  getByOrganization: (orgId: string) => apiCall<PointOfInterest[]>(`/api/pois/organization/${orgId}`),
  getAllByOrganization: (orgId: string) => apiCall<PointOfInterest[]>(`/api/pois/organization/${orgId}/all`),
  countByOrganization: (orgId: string) => apiCall<number>(`/api/pois/organization/${orgId}/count`),
  searchByName: (name: string) => apiCall<PointOfInterest[]>(`/api/pois/name/${name}`),
  getByLocation: (latitude: number, longitude: number, radiusKm?: number) => 
    apiCall<PointOfInterest[]>(`/api/pois/location?latitude=${latitude}&longitude=${longitude}&radiusKm=${radiusKm || 10}`),
  getPopular: (limit?: number) => apiCall<PointOfInterest[]>(`/api/pois/popular?limit=${limit || 10}`),
  checkNameExists: (name: string, organizationId: string, excludeId?: string) => 
    apiCall<boolean>(`/api/pois/check-name?name=${encodeURIComponent(name)}&organizationId=${organizationId}${excludeId ? `&excludeId=${excludeId}` : ''}`),
  create: (poi: Partial<PointOfInterest>) => apiCall<PointOfInterest>('/api/pois', { method: 'POST', body: JSON.stringify(poi) }),
  update: (id: string, poi: Partial<PointOfInterest>) => apiCall<PointOfInterest>(`/api/pois/${id}`, { method: 'PUT', body: JSON.stringify(poi) }),
  delete: (id: string) => apiCall<void>(`/api/pois/${id}`, { method: 'DELETE' }),
  activate: (id: string) => apiCall<void>(`/api/pois/${id}/activate`, { method: 'PATCH' }),
  deactivate: (id: string) => apiCall<void>(`/api/pois/${id}/desactivate`, { method: 'PATCH' }),
  updatePopularity: (id: string, score: number) => apiCall<void>(`/api/pois/${id}/popularity?score=${score}`, { method: 'PATCH' }),
};

// ==================== REVIEWS API ====================
export const ReviewAPI = {
  getAll: () => apiCall<PoiReview[]>('/api-reviews'),
  getById: (id: string) => apiCall<PoiReview>(`/api-reviews/${id}`),
  getByPoi: (poiId: string) => apiCall<PoiReview[]>(`/api-reviews/poi/${poiId}/reviews`),
  getByUser: (userId: string) => apiCall<PoiReview[]>(`/api-reviews/user/${userId}/reviews`),
  getByOrganization: (orgId: string) => apiCall<PoiReview[]>(`/api-reviews/organization/${orgId}/reviews`),
  getPoiStats: (poiId: string) => apiCall<{ averageRating: number; reviewCount: number }>(`/api-reviews/poi/${poiId}/stats`),
  getAverageRating: (poiId: string) => apiCall<number>(`/api-reviews/poi/${poiId}/average-rating`),
  getCount: (poiId: string) => apiCall<number>(`/api-reviews/poi/${poiId}/count`),
  create: (review: Partial<PoiReview>) => apiCall<PoiReview>('/api-reviews', { method: 'POST', body: JSON.stringify(review) }),
  update: (id: string, review: Partial<PoiReview>) => apiCall<PoiReview>(`/api-reviews/${id}`, { method: 'PUT', body: JSON.stringify(review) }),
  delete: (id: string) => apiCall<void>(`/api-reviews/${id}`, { method: 'DELETE' }),
  like: (id: string) => apiCall<PoiReview>(`/api-reviews/${id}/like`, { method: 'PATCH' }),
  unlike: (id: string) => apiCall<PoiReview>(`/api-reviews/${id}/unlike`, { method: 'PATCH' }),
};

// ==================== STATISTICS API ====================
export const StatisticsAPI = {
  getAll: () => apiCall<PoiPlatformStat[]>('/api/poi-platform-stats'),
  getById: (id: string) => apiCall<PoiPlatformStat>(`/api/poi-platform-stats/${id}`),
  getByPoi: (poiId: string) => apiCall<PoiPlatformStat[]>(`/api/poi-platform-stats/poi/${poiId}/stats`),
  getByOrganization: (orgId: string) => apiCall<PoiPlatformStat[]>(`/api/poi-platform-stats/organization/${orgId}/stats`),
  getByPlatform: (platformType: string) => apiCall<PoiPlatformStat[]>(`/api/poi-platform-stats/platform/${platformType}/stats`),
  getByDate: (date: string) => apiCall<PoiPlatformStat[]>(`/api/poi-platform-stats/date/${date}/stats`),
  getByDateRange: (startDate: string, endDate: string) => 
    apiCall<PoiPlatformStat[]>(`/api/poi-platform-stats/date-range?startDate=${startDate}&endDate=${endDate}`),
  getByOrgAndDateRange: (orgId: string, startDate: string, endDate: string) => 
    apiCall<PoiPlatformStat[]>(`/api/poi-platform-stats/organization/${orgId}/date-range?startDate=${startDate}&endDate=${endDate}`),
  create: (stat: Partial<PoiPlatformStat>) => apiCall<PoiPlatformStat>('/api/poi-platform-stats', { method: 'POST', body: JSON.stringify(stat) }),
  update: (id: string, stat: Partial<PoiPlatformStat>) => apiCall<PoiPlatformStat>(`/api/poi-platform-stats/${id}`, { method: 'PUT', body: JSON.stringify(stat) }),
  delete: (id: string) => apiCall<void>(`/api/poi-platform-stats/${id}`, { method: 'DELETE' }),
  deleteByPoi: (poiId: string) => apiCall<void>(`/api/poi-platform-stats/poi/${poiId}`, { method: 'DELETE' }),
  deleteByOrg: (orgId: string) => apiCall<void>(`/api/poi-platform-stats/organization/${orgId}`, { method: 'DELETE' }),
};

// ==================== ACCESS LOGS API ====================
export const AccessLogAPI = {
  getAll: () => apiCall<PoiAccessLog[]>('/api/poi-access-logs'),
  getById: (id: string) => apiCall<PoiAccessLog>(`/api/poi-access-logs/${id}`),
  getByPoi: (poiId: string) => apiCall<PoiAccessLog[]>(`/api/poi-access-logs/poi/${poiId}`),
  getByPoiPaginated: (poiId: string, page: number = 0, size: number = 10) => 
    apiCall<PoiAccessLog[]>(`/api/poi-access-logs/poi/${poiId}/paginated?page=${page}&size=${size}`),
  getRecentByPoi: (poiId: string, since: string) => 
    apiCall<PoiAccessLog[]>(`/api/poi-access-logs/poi/${poiId}/recent?since=${since}`),
  getByUser: (userId: string) => apiCall<PoiAccessLog[]>(`/api/poi-access-logs/user/${userId}`),
  getByOrganization: (orgId: string) => apiCall<PoiAccessLog[]>(`/api/poi-access-logs/organization/${orgId}`),
  getByPoiAndOrg: (poiId: string, orgId: string) => 
    apiCall<PoiAccessLog[]>(`/api/poi-access-logs/poi/${poiId}/organization/${orgId}`),
  getByPlatform: (platformType: string) => apiCall<PoiAccessLog[]>(`/api/poi-access-logs/platform/${platformType}`),
  getByAccessType: (accessType: string) => apiCall<PoiAccessLog[]>(`/api/poi-access-logs/access-type/${accessType}`),
  getByDateRange: (startDate: string, endDate: string) => 
    apiCall<PoiAccessLog[]>(`/api/poi-access-logs/date-range?startDate=${startDate}&endDate=${endDate}`),
  countByPoiAndAccessType: (poiId: string, accessType: string) => 
    apiCall<number>(`/api/poi-access-logs/poi/${poiId}/count/access-type/${accessType}`),
  getPlatformStatsForOrg: (orgId: string) => apiCall<Record<string, number>>(`/api/poi-access-logs/organization/${orgId}/platform-stats`),
  create: (log: Partial<PoiAccessLog>) => apiCall<PoiAccessLog>('/api/poi-access-logs', { method: 'POST', body: JSON.stringify(log) }),
  update: (id: string, log: Partial<PoiAccessLog>) => apiCall<PoiAccessLog>(`/api/poi-access-logs/${id}`, { method: 'PUT', body: JSON.stringify(log) }),
  delete: (id: string) => apiCall<void>(`/api/poi-access-logs/${id}`, { method: 'DELETE' }),
  deleteOldLogs: (beforeDate: string) => apiCall<string>(`/api/poi-access-logs/cleanup?beforeDate=${beforeDate}`, { method: 'DELETE' }),
};

// ==================== ORGANIZATION API ====================
export const OrganizationAPI = {
  getAll: () => apiCall<Organization[]>('/api/organizations'),
  getById: (id: string) => apiCall<Organization>(`/api/organizations/${id}`),
  getByCode: (code: string) => apiCall<Organization>(`/api/organizations/by-code/${code}`),
  getByType: (type: string) => apiCall<Organization[]>(`/api/organizations/by-type/${type}`),
  searchByName: (name: string) => apiCall<Organization[]>(`/api/organizations/by-name/${name}`),
  getByActiveStatus: (isActive: boolean) => apiCall<Organization[]>(`/api/organizations/by-active-status/${isActive}`),
  create: (org: Partial<Organization>) => apiCall<Organization>('/api/organizations', { method: 'POST', body: JSON.stringify(org) }),
  update: (id: string, org: Partial<Organization>) => apiCall<Organization>(`/api/organizations/${id}`, { method: 'PUT', body: JSON.stringify(org) }),
  delete: (id: string) => apiCall<void>(`/api/organizations/${id}`, { method: 'DELETE' }),
};

// ==================== BLOG API ====================
export const BlogAPI = {
  getAll: () => apiCall<Blog[]>('/api/blogs'),
  getById: (id: string) => apiCall<Blog>(`/api/blogs/${id}`),
  getByUser: (userId: string) => apiCall<Blog[]>(`/api/blogs/user/${userId}`),
  getByPoi: (poiId: string) => apiCall<Blog[]>(`/api/blogs/poi/${poiId}`),
  searchByTitle: (title: string) => apiCall<Blog[]>(`/api/blogs/search?title=${encodeURIComponent(title)}`),
  create: (blog: { user_id: string; poi_id: string; title: string; description?: string; cover_image_url?: string; content: string }) => 
    apiCall<Blog>('/api/blogs', { method: 'POST', body: JSON.stringify(blog) }),
  update: (id: string, blog: Partial<Blog>) => apiCall<Blog>(`/api/blogs/${id}`, { method: 'PUT', body: JSON.stringify(blog) }),
  delete: (id: string) => apiCall<void>(`/api/blogs/${id}`, { method: 'DELETE' }),
};

// ==================== PODCAST API ====================
export const PodcastAPI = {
  getAll: () => apiCall<Podcast[]>('/api/podcasts'),
  getById: (id: string) => apiCall<Podcast>(`/api/podcasts/${id}`),
  getByUser: (userId: string) => apiCall<Podcast[]>(`/api/podcasts/user/${userId}`),
  getByPoi: (poiId: string) => apiCall<Podcast[]>(`/api/podcasts/poi/${poiId}`),
  searchByTitle: (title: string) => apiCall<Podcast[]>(`/api/podcasts/search?title=${encodeURIComponent(title)}`),
  getByDurationRange: (minDuration: number, maxDuration: number) => 
    apiCall<Podcast[]>(`/api/podcasts/duration?minDuration=${minDuration}&maxDuration=${maxDuration}`),
  create: (podcast: { user_id: string; poi_id: string; title: string; description?: string; cover_image_url?: string; audio_file_url: string; duration_seconds: number }) => 
    apiCall<Podcast>('/api/podcasts', { method: 'POST', body: JSON.stringify(podcast) }),
  update: (id: string, podcast: Partial<Podcast>) => apiCall<Podcast>(`/api/podcasts/${id}`, { method: 'PUT', body: JSON.stringify(podcast) }),
  delete: (id: string) => apiCall<void>(`/api/podcasts/${id}`, { method: 'DELETE' }),
};

// ==================== DASHBOARD AGGREGATES ====================
export const DashboardAPI = {
  async getOverview(orgId?: string) {
    const [pois, users, reviews, stats] = await Promise.all([
      orgId ? PoiAPI.getByOrganization(orgId) : PoiAPI.getAll(),
      orgId ? UserAPI.getActiveByOrg(orgId) : UserAPI.getAll(),
      orgId ? ReviewAPI.getByOrganization(orgId) : ReviewAPI.getAll(),
      orgId ? StatisticsAPI.getByOrganization(orgId) : StatisticsAPI.getAll(),
    ]);

    return {
      totalPois: pois.length,
      activePois: pois.filter(p => p.is_active).length,
      totalUsers: users.length,
      totalReviews: reviews.length,
      averageRating: reviews.length > 0 
        ? reviews.reduce((sum, r) => sum + r.rating, 0) / reviews.length 
        : 0,
      totalViews: stats.reduce((sum, s) => sum + s.views, 0),
      totalLikes: stats.reduce((sum, s) => sum + s.likes, 0),
    };
  },
};

=================================./components/admin/Chart.tsx==============================================

'use client';

import React, { useEffect, useRef } from 'react';

interface ChartData {
  label: string;
  value: number;
  color?: string;
}

interface ChartProps {
  type: 'line' | 'bar' | 'doughnut' | 'area';
  data: ChartData[];
  title?: string;
  height?: number;
}

export const Chart: React.FC<ChartProps> = ({ type, data, title, height = 300 }) => {
  const canvasRef = useRef<HTMLCanvasElement>(null);

  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;

    const ctx = canvas.getContext('2d');
    if (!ctx) return;

    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    
    canvas.width = rect.width * dpr;
    canvas.height = height * dpr;
    
    ctx.scale(dpr, dpr);
    canvas.style.width = rect.width + 'px';
    canvas.style.height = height + 'px';

    ctx.clearRect(0, 0, rect.width, height);

    const maxValue = Math.max(...data.map(d => d.value));
    const padding = 40;
    const chartWidth = rect.width - padding * 2;
    const chartHeight = height - padding * 2;

    if (type === 'bar') {
      const barWidth = chartWidth / data.length - 10;
      data.forEach((item, index) => {
        const barHeight = (item.value / maxValue) * chartHeight;
        const x = padding + index * (chartWidth / data.length);
        const y = height - padding - barHeight;

        const gradient = ctx.createLinearGradient(0, y, 0, height - padding);
        gradient.addColorStop(0, item.color || '#8b5cf6');
        gradient.addColorStop(1, item.color ? item.color + '40' : '#8b5cf640');

        ctx.fillStyle = gradient;
        ctx.fillRect(x + 5, y, barWidth, barHeight);

        ctx.fillStyle = '#6b7280';
        ctx.font = '12px Inter, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(item.label, x + barWidth / 2 + 5, height - padding + 20);
      });
    } else if (type === 'line' || type === 'area') {
      ctx.beginPath();
      data.forEach((item, index) => {
        const x = padding + (index / (data.length - 1)) * chartWidth;
        const y = height - padding - (item.value / maxValue) * chartHeight;

        if (index === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      });

      if (type === 'area') {
        ctx.lineTo(padding + chartWidth, height - padding);
        ctx.lineTo(padding, height - padding);
        ctx.closePath();

        const gradient = ctx.createLinearGradient(0, padding, 0, height - padding);
        gradient.addColorStop(0, '#8b5cf680');
        gradient.addColorStop(1, '#8b5cf610');
        ctx.fillStyle = gradient;
        ctx.fill();
      }

      ctx.strokeStyle = '#8b5cf6';
      ctx.lineWidth = 3;
      ctx.stroke();

      data.forEach((item, index) => {
        const x = padding + (index / (data.length - 1)) * chartWidth;
        const y = height - padding - (item.value / maxValue) * chartHeight;

        ctx.beginPath();
        ctx.arc(x, y, 5, 0, Math.PI * 2);
        ctx.fillStyle = '#8b5cf6';
        ctx.fill();
        ctx.strokeStyle = '#ffffff';
        ctx.lineWidth = 2;
        ctx.stroke();
      });
    } else if (type === 'doughnut') {
      const centerX = rect.width / 2;
      const centerY = height / 2;
      const radius = Math.min(chartWidth, chartHeight) / 2 - 20;
      const innerRadius = radius * 0.6;

      const total = data.reduce((sum, item) => sum + item.value, 0);
      let currentAngle = -Math.PI / 2;

      const colors = ['#8b5cf6', '#a78bfa', '#c4b5fd', '#ddd6fe', '#ede9fe'];

      data.forEach((item, index) => {
        const sliceAngle = (item.value / total) * Math.PI * 2;

        ctx.beginPath();
        ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
        ctx.arc(centerX, centerY, innerRadius, currentAngle + sliceAngle, currentAngle, true);
        ctx.closePath();

        ctx.fillStyle = item.color || colors[index % colors.length];
        ctx.fill();

        currentAngle += sliceAngle;
      });
    }

    // Y-axis
    ctx.strokeStyle = '#e5e7eb';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(padding, padding);
    ctx.lineTo(padding, height - padding);
    ctx.stroke();

    // X-axis
    ctx.beginPath();
    ctx.moveTo(padding, height - padding);
    ctx.lineTo(rect.width - padding, height - padding);
    ctx.stroke();
  }, [data, type, height]);

  return (
    <div className="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800">
      {title && (
        <h3 className="mb-4 text-lg font-semibold text-gray-900 dark:text-white">{title}</h3>
      )}
      <canvas ref={canvasRef} className="w-full" />
      {type === 'doughnut' && (
        <div className="mt-4 flex flex-wrap gap-3">
          {data.map((item, index) => (
            <div key={index} className="flex items-center gap-2">
              <div
                className="h-3 w-3 rounded-full"
                style={{
                  backgroundColor: item.color || ['#8b5cf6', '#a78bfa', '#c4b5fd', '#ddd6fe', '#ede9fe'][index % 5],
                }}
              />
              <span className="text-sm text-gray-600 dark:text-gray-400">
                {item.label}: {item.value}
              </span>
            </div>
          ))}
        </div>
      )}
    </div>
  );
};

=================================./components/admin/DataTable.tsx==============================================

'use client';

import React, { useState } from 'react';
import { cn } from '@/components/admin/utils';

export interface Column<T> {
  key: string;
  label: string;
  render?: (row: T) => React.ReactNode;
  sortable?: boolean;
  width?: string;
}

interface DataTableProps<T> {
  columns: Column<T>[];
  data: T[];
  onRowClick?: (row: T) => void;
  searchable?: boolean;
  searchPlaceholder?: string;
  actions?: (row: T) => React.ReactNode;
}

export function DataTable<T extends Record<string, any>>({
  columns,
  data,
  onRowClick,
  searchable = true,
  searchPlaceholder = 'Rechercher...',
  actions,
}: DataTableProps<T>) {
  const [searchTerm, setSearchTerm] = useState('');
  const [sortConfig, setSortConfig] = useState<{ key: string; direction: 'asc' | 'desc' } | null>(null);

  const handleSort = (key: string) => {
    setSortConfig(current => {
      if (current?.key === key) {
        return { key, direction: current.direction === 'asc' ? 'desc' : 'asc' };
      }
      return { key, direction: 'asc' };
    });
  };

  const filteredData = React.useMemo(() => {
    let result = [...data];

    // Search
    if (searchTerm) {
      result = result.filter(row =>
        Object.values(row).some(value =>
          String(value).toLowerCase().includes(searchTerm.toLowerCase())
        )
      );
    }

    // Sort
    if (sortConfig) {
      result.sort((a, b) => {
        const aVal = a[sortConfig.key];
        const bVal = b[sortConfig.key];

        if (aVal < bVal) return sortConfig.direction === 'asc' ? -1 : 1;
        if (aVal > bVal) return sortConfig.direction === 'asc' ? 1 : -1;
        return 0;
      });
    }

    return result;
  }, [data, searchTerm, sortConfig]);

  return (
    <div className="rounded-2xl border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800">
      {searchable && (
        <div className="border-b border-gray-200 p-4 dark:border-gray-700">
          <div className="relative">
            <input
              type="text"
              placeholder={searchPlaceholder}
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full rounded-lg border border-gray-300 bg-white px-4 py-2 pl-10 text-sm focus:border-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"
            />
            <svg
              className="absolute left-3 top-2.5 h-5 w-5 text-gray-400"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              />
            </svg>
          </div>
        </div>
      )}

      <div className="overflow-x-auto">
        <table className="w-full">
          <thead className="border-b border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900/50">
            <tr>
              {columns.map((column) => (
                <th
                  key={column.key}
                  className={cn(
                    'px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400',
                    column.sortable && 'cursor-pointer hover:text-violet-600 dark:hover:text-violet-400',
                    column.width
                  )}
                  onClick={() => column.sortable && handleSort(column.key)}
                >
                  <div className="flex items-center gap-2">
                    {column.label}
                    {column.sortable && sortConfig?.key === column.key && (
                      <svg
                        className={cn(
                          'h-4 w-4 transition-transform',
                          sortConfig.direction === 'desc' && 'rotate-180'
                        )}
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                      </svg>
                    )}
                  </div>
                </th>
              ))}
              {actions && (
                <th className="px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400">
                  Actions
                </th>
              )}
            </tr>
          </thead>
          <tbody className="divide-y divide-gray-200 dark:divide-gray-700">
            {filteredData.length === 0 ? (
              <tr>
                <td
                  colSpan={columns.length + (actions ? 1 : 0)}
                  className="px-6 py-12 text-center text-gray-500 dark:text-gray-400"
                >
                  Aucune donnée disponible
                </td>
              </tr>
            ) : (
              filteredData.map((row, index) => (
                <tr
                  key={index}
                  onClick={() => onRowClick?.(row)}
                  className={cn(
                    'transition-colors',
                    onRowClick && 'cursor-pointer hover:bg-violet-50 dark:hover:bg-violet-900/10'
                  )}
                  style={{
                    animation: `fadeInUp 0.3s ease-out ${index * 0.05}s both`,
                  }}
                >
                  {columns.map((column) => (
                    <td
                      key={column.key}
                      className="px-6 py-4 text-sm text-gray-900 dark:text-gray-100"
                    >
                      {column.render ? column.render(row) : row[column.key]}
                    </td>
                  ))}
                  {actions && (
                    <td className="px-6 py-4 text-right text-sm">
                      {actions(row)}
                    </td>
                  )}
                </tr>
              ))
            )}
          </tbody>
        </table>
      </div>
    </div>
  );
}

=================================./components/admin/RecentActivity.tsx==============================================

'use client';

import React from 'react';
import { formatDateTime } from '@/components/admin/utils';

interface Activity {
  id: string;
  type: 'poi' | 'review' | 'user' | 'access';
  title: string;
  description: string;
  timestamp: string;
  user?: string;
  icon?: React.ReactNode;
}

interface RecentActivityProps {
  activities: Activity[];
  maxItems?: number;
}

export const RecentActivity: React.FC<RecentActivityProps> = ({ activities, maxItems = 10 }) => {
  const displayActivities = activities.slice(0, maxItems);

  const getActivityIcon = (type: string) => {
    switch (type) {
      case 'poi':
        return (
          <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
        );
      case 'review':
        return (
          <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
          </svg>
        );
      case 'user':
        return (
          <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        );
      case 'access':
        return (
          <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
          </svg>
        );
      default:
        return (
          <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        );
    }
  };

  const getActivityColor = (type: string) => {
    switch (type) {
      case 'poi':
        return 'bg-violet-100 text-violet-600 dark:bg-violet-900/30 dark:text-violet-400';
      case 'review':
        return 'bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400';
      case 'user':
        return 'bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400';
      case 'access':
        return 'bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400';
      default:
        return 'bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400';
    }
  };

  return (
    <div className="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800">
      <h3 className="mb-4 text-lg font-semibold text-gray-900 dark:text-white">
        Activité Récente
      </h3>
      <div className="space-y-4">
        {displayActivities.map((activity, index) => (
          <div
            key={activity.id}
            className="flex gap-4 border-b border-gray-100 pb-4 last:border-0 last:pb-0 dark:border-gray-700"
            style={{
              animation: `fadeInLeft 0.5s ease-out ${index * 0.1}s both`,
            }}
          >
            <div className={`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg ${getActivityColor(activity.type)}`}>
              {activity.icon || getActivityIcon(activity.type)}
            </div>
            <div className="flex-1 min-w-0">
              <p className="text-sm font-medium text-gray-900 dark:text-white">
                {activity.title}
              </p>
              <p className="text-xs text-gray-500 dark:text-gray-400 mt-0.5 truncate">
                {activity.description}
              </p>
              {activity.user && (
                <p className="text-xs text-gray-400 dark:text-gray-500 mt-1">
                  Par {activity.user}
                </p>
              )}
            </div>
            <div className="shrink-0 text-right">
              <p className="text-xs text-gray-400 dark:text-gray-500">
                {formatDateTime(activity.timestamp)}
              </p>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

=================================./components/admin/Sidebar.tsx==============================================

'use client';

import React, { useState } from 'react';
import { cn } from '@/components/admin/utils';

interface SidebarProps {
  onNavigate?: (section: string) => void;
  currentSection?: string;
}

interface NavItem {
  id: string;
  label: string;
  icon: React.ReactNode;
  badge?: number;
}

export const Sidebar: React.FC<SidebarProps> = ({ onNavigate, currentSection = 'dashboard' }) => {
  const [isCollapsed, setIsCollapsed] = useState(false);

  const navItems: NavItem[] = [
    {
      id: 'dashboard',
      label: 'Tableau de bord',
      icon: (
        <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
      ),
    },
    {
      id: 'pois',
      label: 'Points d\'Intérêt',
      icon: (
        <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      ),
    },
    {
      id: 'reviews',
      label: 'Avis',
      icon: (
        <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
        </svg>
      ),
    },
    {
      id: 'users',
      label: 'Utilisateurs',
      icon: (
        <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
      ),
    },
    {
      id: 'organizations',
      label: 'Organisations',
      icon: (
        <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
        </svg>
      ),
    },
    {
      id: 'analytics',
      label: 'Analytiques',
      icon: (
        <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
        </svg>
      ),
    },
    {
      id: 'content',
      label: 'Contenu',
      icon: (
        <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
        </svg>
      ),
    },
    {
      id: 'settings',
      label: 'Paramètres',
      icon: (
        <svg className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      ),
    },
  ];

  return (
    <aside
      className={cn(
        'sticky top-0 h-screen border-r border-gray-200 bg-white transition-all duration-300 dark:border-gray-700 dark:bg-gray-800',
        isCollapsed ? 'w-20' : 'w-64'
      )}
    >
      <div className="flex h-full flex-col">
        {/* Header */}
        <div className="flex items-center justify-between border-b border-gray-200 p-6 dark:border-gray-700">
          {!isCollapsed && (
            <h1 className="bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-xl font-bold text-transparent">
              POI Admin
            </h1>
          )}
          <button
            onClick={() => setIsCollapsed(!isCollapsed)}
            className="rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-700"
          >
            <svg
              className={cn('h-5 w-5 text-gray-600 transition-transform dark:text-gray-400', isCollapsed && 'rotate-180')}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
            </svg>
          </button>
        </div>

        {/* Navigation */}
        <nav className="flex-1 overflow-y-auto p-4">
          <ul className="space-y-2">
            {navItems.map((item, index) => (
              <li
                key={item.id}
                style={{
                  animation: `fadeInLeft 0.3s ease-out ${index * 0.05}s both`,
                }}
              >
                <button
                  onClick={() => onNavigate?.(item.id)}
                  className={cn(
                    'group flex w-full items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-all',
                    currentSection === item.id
                      ? 'bg-gradient-to-r from-violet-500 to-purple-500 text-white shadow-lg shadow-violet-500/25'
                      : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'
                  )}
                >
                  <span className={cn(currentSection !== item.id && 'group-hover:scale-110', 'transition-transform')}>
                    {item.icon}
                  </span>
                  {!isCollapsed && (
                    <>
                      <span className="flex-1 text-left">{item.label}</span>
                      {item.badge && (
                        <span className="flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs text-white">
                          {item.badge}
                        </span>
                      )}
                    </>
                  )}
                </button>
              </li>
            ))}
          </ul>
        </nav>

        {/* User Profile */}
        <div className="border-t border-gray-200 p-4 dark:border-gray-700">
          <button className="flex w-full items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700">
            <div className="flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-violet-500 to-purple-500 text-white">
              <span className="text-sm font-bold">AD</span>
            </div>
            {!isCollapsed && (
              <div className="flex-1 text-left">
                <p className="text-sm font-medium text-gray-900 dark:text-white">Admin</p>
                <p className="text-xs text-gray-500 dark:text-gray-400">admin@navigoo.com</p>
              </div>
            )}
          </button>
        </div>
      </div>
    </aside>
  );
};

=================================./components/admin/StatCards.tsx ==============================================

'use client';

import React from 'react';
import { cn } from '@/components/admin/utils';

interface StatsCardProps {
  title: string;
  value: string | number;
  subtitle?: string;
  icon: React.ReactNode;
  trend?: {
    direction: 'up' | 'down' | 'neutral';
    percentage: number;
  };
  variant?: 'default' | 'accent' | 'success' | 'warning';
}

export const StatsCard: React.FC<StatsCardProps> = ({
  title,
  value,
  subtitle,
  icon,
  trend,
  variant = 'default',
}) => {
  const variantClasses = {
    default: 'from-violet-500/10 to-purple-500/10 border-violet-200 dark:border-violet-800',
    accent: 'from-fuchsia-500/10 to-pink-500/10 border-fuchsia-200 dark:border-fuchsia-800',
    success: 'from-emerald-500/10 to-green-500/10 border-emerald-200 dark:border-emerald-800',
    warning: 'from-amber-500/10 to-orange-500/10 border-amber-200 dark:border-amber-800',
  };

  return (
    <div
      className={cn(
        'relative overflow-hidden rounded-2xl border bg-gradient-to-br p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-xl',
        variantClasses[variant]
      )}
      style={{
        animation: 'fadeInUp 0.5s ease-out',
      }}
    >
      <div className="flex items-start justify-between">
        <div className="flex-1">
          <p className="text-sm font-medium text-gray-600 dark:text-gray-400">{title}</p>
          <h3 className="mt-2 text-3xl font-bold text-gray-900 dark:text-white">{value}</h3>
          {subtitle && (
            <p className="mt-1 text-xs text-gray-500 dark:text-gray-400">{subtitle}</p>
          )}
          {trend && (
            <div className="mt-2 flex items-center gap-1">
              {trend.direction === 'up' ? (
                <svg className="h-4 w-4 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 10l7-7m0 0l7 7m-7-7v18" />
                </svg>
              ) : trend.direction === 'down' ? (
                <svg className="h-4 w-4 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                </svg>
              ) : (
                <svg className="h-4 w-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 12h14" />
                </svg>
              )}
              <span
                className={cn(
                  'text-xs font-medium',
                  trend.direction === 'up' && 'text-emerald-600 dark:text-emerald-400',
                  trend.direction === 'down' && 'text-red-600 dark:text-red-400',
                  trend.direction === 'neutral' && 'text-gray-600 dark:text-gray-400'
                )}
              >
                {trend.percentage.toFixed(1)}%
              </span>
            </div>
          )}
        </div>
        <div className="rounded-xl bg-white/50 p-3 dark:bg-gray-800/50">
          {icon}
        </div>
      </div>
    </div>
  );
};

==================================./components/admin/utils.ts===============================

// Utility functions for the admin dashboard

export const formatDate = (dateString: string): string => {
  const date = new Date(dateString);
  return new Intl.DateTimeFormat('fr-FR', {
    day: '2-digit',
    month: 'short',
    year: 'numeric',
  }).format(date);
};

export const formatDateTime = (dateString: string): string => {
  const date = new Date(dateString);
  return new Intl.DateTimeFormat('fr-FR', {
    day: '2-digit',
    month: 'short',
    year: 'numeric',
    hour: '2-digit',
    minute: '2-digit',
  }).format(date);
};

export const formatNumber = (num: number): string => {
  return new Intl.NumberFormat('fr-FR').format(num);
};

export const formatCompactNumber = (num: number): string => {
  if (num >= 1000000) {
    return `${(num / 1000000).toFixed(1)}M`;
  }
  if (num >= 1000) {
    return `${(num / 1000).toFixed(1)}K`;
  }
  return num.toString();
};

export const formatPercentage = (value: number, total: number): string => {
  if (total === 0) return '0%';
  return `${((value / total) * 100).toFixed(1)}%`;
};

export const getPoiCategoryLabel = (category: string): string => {
  const labels: Record<string, string> = {
    FOOD_DRINK: 'Alimentation & Boissons',
    ACCOMMODATION: 'Hébergement',
    SHOPPING_RETAIL: 'Commerce & Retail',
    TRANSPORTATION: 'Transport',
    HEALTH_WELLNESS: 'Santé & Bien-être',
    LEISURE_CULTURE: 'Loisirs & Culture',
    PUBLIC_ADMIN_SERVICES: 'Administration Publique',
    FINANCE: 'Finance',
    EDUCATION: 'Éducation',
    WORSHIP_SPIRITUALITY: 'Spiritualité',
  };
  return labels[category] || category;
};

export const getPoiTypeLabel = (type: string): string => {
  const labels: Record<string, string> = {
    RESTAURANT: 'Restaurant',
    CAFE: 'Café',
    BAR: 'Bar',
    HOTEL: 'Hôtel',
    HOPITAL: 'Hôpital',
    BANQUE: 'Banque',
    ECOLE: 'École',
    MUSEE: 'Musée',
    PARC_JARDIN: 'Parc/Jardin',
    // Add more as needed
  };
  return labels[type] || type.replace(/_/g, ' ');
};

export const getTrendIndicator = (current: number, previous: number) => {
  if (previous === 0) return { direction: 'neutral' as const, percentage: 0 };
  const change = ((current - previous) / previous) * 100;
  return {
    direction: change > 0 ? 'up' : change < 0 ? 'down' : 'neutral' as const,
    percentage: Math.abs(change),
  };
};

export const debounce = <T extends (...args: any[]) => any>(
  func: T,
  wait: number
): ((...args: Parameters<T>) => void) => {
  let timeout: NodeJS.Timeout;
  return (...args: Parameters<T>) => {
    clearTimeout(timeout);
    timeout = setTimeout(() => func(...args), wait);
  };
};

export const cn = (...classes: (string | undefined | null | false)[]): string => {
  return classes.filter(Boolean).join(' ');
};

==========================./app/admin/layout.tsx============================

import type { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'POI Navigoo - Admin Dashboard',
  description: 'Dashboard d\'administration pour la gestion des points d\'intérêt',
};

export default function AdminLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="fr">
      <body>{children}</body>
    </html>
  );
}

=================================./app/admin/page.tsx==============================================

'use client';

import React, { useState, useEffect } from 'react';
import { Sidebar } from '@/components/admin/Sidebar';
import { StatsCard } from '@/components/admin/StatCards';
import { Chart } from '@/components/admin/Chart';
import { RecentActivity } from '@/components/admin/RecentActivity';
import { DataTable, Column } from '@/components/admin/DataTable';
import { 
  DashboardAPI, 
  PoiAPI, 
  ReviewAPI, 
  UserAPI, 
  OrganizationAPI,
  StatisticsAPI,
  AccessLogAPI,
  BlogAPI,
  PodcastAPI,
  PointOfInterest,
  PoiReview,
  AppUser,
  Organization,
} from '@/services/adminService';
import { formatDate, formatCompactNumber, getPoiCategoryLabel, cn } from '@/components/admin/utils';

export default function AdminPage() {
  const [currentSection, setCurrentSection] = useState('dashboard');
  const [loading, setLoading] = useState(true);
  const [dashboardData, setDashboardData] = useState({
    totalPois: 0,
    activePois: 0,
    totalUsers: 0,
    totalReviews: 0,
    averageRating: 0,
    totalViews: 0,
    totalLikes: 0,
  });
  const [pois, setPois] = useState<PointOfInterest[]>([]);
  const [reviews, setReviews] = useState<PoiReview[]>([]);
  const [users, setUsers] = useState<AppUser[]>([]);
  const [organizations, setOrganizations] = useState<Organization[]>([]);

  useEffect(() => {
    loadDashboardData();
  }, []);

  const loadDashboardData = async () => {
    try {
      setLoading(true);
      const [overview, poisData, reviewsData, usersData, orgsData] = await Promise.all([
        DashboardAPI.getOverview(),
        PoiAPI.getAll(),
        ReviewAPI.getAll(),
        UserAPI.getAll(),
        OrganizationAPI.getAll(),
      ]);

      setDashboardData(overview);
      setPois(poisData);
      setReviews(reviewsData);
      setUsers(usersData);
      setOrganizations(orgsData);
    } catch (error) {
      console.error('Error loading dashboard data:', error);
    } finally {
      setLoading(false);
    }
  };

  const recentActivities = [
    {
      id: '1',
      type: 'poi' as const,
      title: 'Nouveau POI créé',
      description: 'Hôtel Hilton Yaoundé ajouté au système',
      timestamp: new Date().toISOString(),
      user: 'Admin',
    },
    {
      id: '2',
      type: 'review' as const,
      title: 'Nouvel avis',
      description: '5 étoiles pour Restaurant Le Palais',
      timestamp: new Date(Date.now() - 3600000).toISOString(),
      user: 'Jean Dupont',
    },
    {
      id: '3',
      type: 'user' as const,
      title: 'Nouvel utilisateur',
      description: 'marie.martin@example.com s\'est inscrit',
      timestamp: new Date(Date.now() - 7200000).toISOString(),
    },
  ];

  const poiColumns: Column<PointOfInterest>[] = [
    {
      key: 'poi_name',
      label: 'Nom',
      sortable: true,
      render: (row) => (
        <div className="flex items-center gap-3">
          <div className="h-10 w-10 rounded-lg bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center text-white font-bold">
            {row.poi_name.charAt(0)}
          </div>
          <div>
            <p className="font-medium">{row.poi_name}</p>
            <p className="text-xs text-gray-500">{getPoiCategoryLabel(row.poi_category)}</p>
          </div>
        </div>
      ),
    },
    {
      key: 'address_city',
      label: 'Ville',
      sortable: true,
    },
    {
      key: 'popularity_score',
      label: 'Popularité',
      sortable: true,
      render: (row) => (
        <div className="flex items-center gap-2">
          <div className="h-2 w-24 rounded-full bg-gray-200 dark:bg-gray-700">
            <div
              className="h-2 rounded-full bg-gradient-to-r from-violet-500 to-purple-500"
              style={{ width: `${row.popularity_score || 0}%` }}
            />
          </div>
          <span className="text-xs">{row.popularity_score || 0}</span>
        </div>
      ),
    },
    {
      key: 'is_active',
      label: 'Statut',
      render: (row) => (
        <span
          className={cn(
            'inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium',
            row.is_active
              ? 'bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400'
              : 'bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400'
          )}
        >
          <span className={cn('h-2 w-2 rounded-full', row.is_active ? 'bg-emerald-500' : 'bg-gray-400')} />
          {row.is_active ? 'Actif' : 'Inactif'}
        </span>
      ),
    },
    {
      key: 'created_at',
      label: 'Date de création',
      sortable: true,
      render: (row) => formatDate(row.created_at),
    },
  ];

  const reviewColumns: Column<PoiReview>[] = [
    {
      key: 'rating',
      label: 'Note',
      render: (row) => (
        <div className="flex items-center gap-1">
          {[...Array(5)].map((_, i) => (
            <svg
              key={i}
              className={cn('h-4 w-4', i < row.rating ? 'text-amber-400' : 'text-gray-300')}
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
            </svg>
          ))}
        </div>
      ),
    },
    {
      key: 'reviewText',
      label: 'Commentaire',
      render: (row) => (
        <p className="max-w-md truncate text-sm">{row.reviewText || 'Aucun commentaire'}</p>
      ),
    },
    {
      key: 'platformType',
      label: 'Plateforme',
      render: (row) => (
        <span className="rounded-full bg-violet-100 px-3 py-1 text-xs font-medium text-violet-700 dark:bg-violet-900/30 dark:text-violet-400">
          {row.platformType}
        </span>
      ),
    },
    {
      key: 'likes',
      label: 'Likes',
      render: (row) => (
        <div className="flex items-center gap-3">
          <span className="flex items-center gap-1 text-sm">
            <svg className="h-4 w-4 text-emerald-500" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z" />
            </svg>
            {row.likes}
          </span>
          <span className="flex items-center gap-1 text-sm">
            <svg className="h-4 w-4 text-red-500" fill="currentColor" viewBox="0 0 20 20">
              <path d="M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z" />
            </svg>
            {row.dislikes}
          </span>
        </div>
      ),
    },
    {
      key: 'createdAt',
      label: 'Date',
      sortable: true,
      render: (row) => formatDate(row.createdAt),
    },
  ];

  const userColumns: Column<AppUser>[] = [
    {
      key: 'username',
      label: 'Utilisateur',
      render: (row) => (
        <div className="flex items-center gap-3">
          <div className="h-10 w-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center text-white font-bold">
            {row.username.charAt(0).toUpperCase()}
          </div>
          <div>
            <p className="font-medium">{row.username}</p>
            <p className="text-xs text-gray-500">{row.email}</p>
          </div>
        </div>
      ),
    },
    {
      key: 'role',
      label: 'Rôle',
      render: (row) => (
        <span
          className={cn(
            'inline-flex rounded-full px-3 py-1 text-xs font-medium',
            row.role === 'SUPER_ADMIN' && 'bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400',
            row.role === 'ADMIN' && 'bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400',
            row.role === 'USER' && 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400'
          )}
        >
          {row.role}
        </span>
      ),
    },
    {
      key: 'phone',
      label: 'Téléphone',
      render: (row) => row.phone || '-',
    },
    {
      key: 'isActive',
      label: 'Statut',
      render: (row) => (
        <span
          className={cn(
            'inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium',
            row.isActive
              ? 'bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400'
              : 'bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400'
          )}
        >
          <span className={cn('h-2 w-2 rounded-full', row.isActive ? 'bg-emerald-500' : 'bg-gray-400')} />
          {row.isActive ? 'Actif' : 'Inactif'}
        </span>
      ),
    },
    {
      key: 'createdAt',
      label: 'Date d\'inscription',
      sortable: true,
      render: (row) => formatDate(row.createdAt),
    },
  ];

  const categoryData = React.useMemo(() => {
    const categories = pois.reduce((acc, poi) => {
      acc[poi.poi_category] = (acc[poi.poi_category] || 0) + 1;
      return acc;
    }, {} as Record<string, number>);

    return Object.entries(categories).map(([label, value]) => ({
      label: getPoiCategoryLabel(label),
      value,
    }));
  }, [pois]);

  const monthlyData = [
    { label: 'Jan', value: 65 },
    { label: 'Fév', value: 59 },
    { label: 'Mar', value: 80 },
    { label: 'Avr', value: 81 },
    { label: 'Mai', value: 56 },
    { label: 'Juin', value: 55 },
    { label: 'Juil', value: 70 },
  ];

  const renderDashboard = () => (
    <div className="space-y-6">
      {/* Stats Grid */}
      <div className="grid gap-6 sm:grid-cols-2 lg:grid-cols-4">
        <StatsCard
          title="Points d'Intérêt"
          value={formatCompactNumber(dashboardData.totalPois)}
          subtitle={`${dashboardData.activePois} actifs`}
          variant="default"
          icon={
            <svg className="h-6 w-6 text-violet-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            </svg>
          }
          trend={{ direction: 'up', percentage: 12.5 }}
        />
        <StatsCard
          title="Utilisateurs"
          value={formatCompactNumber(dashboardData.totalUsers)}
          variant="accent"
          icon={
            <svg className="h-6 w-6 text-fuchsia-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
          }
          trend={{ direction: 'up', percentage: 8.2 }}
        />
        <StatsCard
          title="Avis"
          value={formatCompactNumber(dashboardData.totalReviews)}
          subtitle={`${dashboardData.averageRating.toFixed(1)} ⭐ moyenne`}
          variant="success"
          icon={
            <svg className="h-6 w-6 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
            </svg>
          }
          trend={{ direction: 'up', percentage: 15.3 }}
        />
        <StatsCard
          title="Vues totales"
          value={formatCompactNumber(dashboardData.totalViews)}
          variant="warning"
          icon={
            <svg className="h-6 w-6 text-amber-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
            </svg>
          }
          trend={{ direction: 'up', percentage: 23.1 }}
        />
      </div>

      {/* Charts */}
      <div className="grid gap-6 lg:grid-cols-2">
        <Chart type="area" data={monthlyData} title="POIs créés par mois" />
        <Chart type="doughnut" data={categoryData} title="Répartition par catégorie" />
      </div>

      {/* Recent Activity */}
      <RecentActivity activities={recentActivities} />
    </div>
  );

  return (
    <div className="flex min-h-screen bg-gray-50 dark:bg-gray-900">
      <Sidebar currentSection={currentSection} onNavigate={setCurrentSection} />
      
      <main className="flex-1 overflow-auto">
        <div className="mx-auto max-w-7xl p-6 lg:p-8">
          {/* Header */}
          <header className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900 dark:text-white">
              {currentSection === 'dashboard' && 'Tableau de bord'}
              {currentSection === 'pois' && 'Gestion des POIs'}
              {currentSection === 'reviews' && 'Gestion des Avis'}
              {currentSection === 'users' && 'Gestion des Utilisateurs'}
              {currentSection === 'organizations' && 'Gestion des Organisations'}
              {currentSection === 'analytics' && 'Analytiques'}
              {currentSection === 'content' && 'Contenu'}
              {currentSection === 'settings' && 'Paramètres'}
            </h1>
            <p className="mt-2 text-gray-600 dark:text-gray-400">
              {currentSection === 'dashboard' && 'Vue d\'ensemble de votre plateforme'}
              {currentSection === 'pois' && 'Gérez tous vos points d\'intérêt'}
              {currentSection === 'reviews' && 'Modérez et analysez les avis'}
              {currentSection === 'users' && 'Administrez les comptes utilisateurs'}
            </p>
          </header>

          {/* Content */}
          {loading ? (
            <div className="flex items-center justify-center py-12">
              <div className="h-12 w-12 animate-spin rounded-full border-4 border-violet-500 border-t-transparent" />
            </div>
          ) : (
            <>
              {currentSection === 'dashboard' && renderDashboard()}
              {currentSection === 'pois' && (
                <DataTable
                  columns={poiColumns}
                  data={pois}
                  searchPlaceholder="Rechercher un POI..."
                  actions={(row) => (
                    <div className="flex gap-2">
                      <button className="rounded-lg p-2 hover:bg-violet-100 dark:hover:bg-violet-900/30">
                        <svg className="h-5 w-5 text-violet-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                      </button>
                      <button className="rounded-lg p-2 hover:bg-red-100 dark:hover:bg-red-900/30">
                        <svg className="h-5 w-5 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                      </button>
                    </div>
                  )}
                />
              )}
              {currentSection === 'reviews' && (
                <DataTable
                  columns={reviewColumns}
                  data={reviews}
                  searchPlaceholder="Rechercher un avis..."
                />
              )}
              {currentSection === 'users' && (
                <DataTable
                  columns={userColumns}
                  data={users}
                  searchPlaceholder="Rechercher un utilisateur..."
                />
              )}
            </>
          )}
        </div>
      </main>

      <style jsx global>{`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
      `}</style>
    </div>
  );
}